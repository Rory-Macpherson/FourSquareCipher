Rory's Four Square Cipher

A Java implementation of the classical Four Square Cipher with support for multiple input sources and robust key management.

**Author:** Rory Macpherson  
**Version:** Java 25 (Tested on Java 17+)

## Description

This console-based application implements the Four Square Cipher encryption algorithm using 2D arrays. 
It can encrypt and decrypt from three different sources: direct console input, local text files, and web URLs. 
The system automatically handles character cleaning (mapping 'J' to 'I') and manages padding to ensure proper text length. It also removes any added padding after decryption.

## Features

 **Multi-Source Input**
- Direct text entry via console
- Local file processing
- URL content fetching (HTTPS support via custom User-Agent)
- Line-by-line processing for efficient handling of large data sources using String builders

 **Robust Key Management**
- Manual key entry with automatic cleaning and duplicate removal before adding the rest of the alphabet so each key is always random and 25 char’s long
- Random key generation using the Fisher-Yates shuffle

 **Visual Feedback**
- Console-based progress bar to track encryption/decryption operations
- Cross-platform compatible progress symbols testing on multiple versions
- Colour-coded interface for better readability of warning and error messages.

 **Smart File Management**
- Safety checks for existing files
- Options to overwrite, or append to existing locala files
- Files saved to and loaded from current working directory (src folder)

 **Error Resilience**
- Fail-safe defaults for invalid inputs
- Color-coded error messaging
- Handles edge cases (null inputs, invalid keys, odd-length strings)
- Easter egg message for users who enter keys with no letters

## How to Run On Windows

Open a terminal in the `src` directory and execute:
# Compile
javac ie\roryRoams\fourSquareCipher\*.java
# Run
java ie.roryRoams.fourSquareCipher.CipherRunner



## Usage Example

***************************************
** Rory's Four Square Cipher        **
***************************************
(1) Start
(2) Learn how to use the Four Square Cipher
(3) Quit

Select an option [1-3]> 1

Would you like to add your own keys?
Or have them generated by the program?
(1) Enter your own keys
(2) Generate keys
(3) Start Again

Select an option [1-3]> 1
Enter Key 1 -> EXAMPLE
Enter Key 2 -> SECRETKEY

(1) To choose a URL to encrypt
(2) To choose a text file to encrypt
(3) To enter some text to encrypt
(4) Start Again

## How It Works

The Four Square Cipher uses four 5×5 grids:
- **Top Left & Bottom Right:** Standard alphabet (A-Z, excluding J)
- **Top Right & Bottom Left:** Alphabet scrambled using provided keys or randomly added depending on the users choice.

Text is split into letter pairs. Each pair's coordinates in the standard grids determine where to find the encrypted letters in the key grids. The process reverses for decryption.

## Key Features of the Implementation

- **Character Normalization:** 'J' is mapped to 'I' (standard for 5×5 grid ciphers)
- **Automatic Padding:** Odd-length text gets an 'X' appended, this is then removed after decryption
- **Punctuation Preservation:** Non-alphabetic characters remain in their original positions
- **Line-by-Line Processing:** Efficient handling of large files and web content

## Project Structure
ie/roryRoams/fourSquareCipher/
├── CipherRunner.java       # Main entry point
├── CipherMenu.java         # User interface and menu system
├── FourSquareCipher.java   # Core encryption/decryption logic
├── LoadNSave.java          # File I/O operations
├── URLParser.java          # Web content fetching
├── ProgressBar.java        # Visual progress indicator
└── ConsoleColour.java      # ANSI color codes

## Requirements

- Java 17 or higher (developed on Java 25)
- Internet connection (for URL encryption feature)

## Technical Implementation

- **Algorithm:** Classical Four Square Cipher with 2D array implementation
- **Key Generation:** Fisher-Yates shuffle for random keys
- **I/O:** BufferedReader for efficient file and URL reading
- **UI:** Coloured escape sequences for easier use for the user
- **Error Handling:** Comprehensive try-catch blocks with user-friendly messages

## Notes
- URLs must start with **https://** to be accessible
- Files must be located in the project directory
- Output files are saved to the current working directory (src folder)
- The cipher is for educational purposes and should not be used for actual security


## Acknowledgments

- **Fisher-Yates Shuffle Algorithm:** [GeeksforGeeks](https://www.geeksforgeeks.org/dsa/shuffle-a-given-array-using-fisher-yates-shuffle-algorithm/)
- **HTTPS Connection Handling:** [Stack Overflow](https://stackoverflow.com/questions/3155488/)

## License

Educational/Academic Project - 2024
